<!DOCTYPE html>
<html ng-app="DigestCycleApp">
    <head>
        <title>Digest Cycle. Function $watch</title>
        <meta charset="UTF-8">
        <script src="../libs/angular/angular.min.js"></script>
        <link href="../libs/bootstrap/css/bootstrap.min.css" rel="stylesheet">
        <script>
            
            var app = angular.module("DigestCycleApp", []);
            
            /**
             * $watch
             */
            app.controller("WatchCtrl", function($scope) {
                
                $scope.count = 0;
                
                $scope.changeCounter = function(value) {
                    $scope.count += value;
                };
                
                $scope.$watch('count', function(newValue, oldValue) {
                    $scope.lastChange = "from " + oldValue + " to " + newValue;
                });
                
            });
            
        </script>
    </head>
    <body class="container" ng-controller="WatchCtrl">
        
        <h1>Digest Cycle. Function $watch</h1>

        <p>
            Current count value: <b>{{count}}</b>
        </p>
        <p>
            Change count value:
            <button class="btn btn-default" ng-click="changeCounter(1)">
                +1
            </button>
            <button class="btn btn-default" ng-click="changeCounter(-1)">
                -1
            </button>
        </p>
        <p ng-if="lastChange">
            Last count change: <b>{{lastChange}}</b>
        </p>
            
    </body>
</html>
